<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Create Your iAscendAi Identity</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="app-shell">
    <div class="card">

      <!-- HEADER -->
      <div class="brand-row">
        <div class="brand-mark">$</div>
        <div>
          <h1>FundTrackerAI</h1>
          <h2>Verified Transaction System</h2>
        </div>
      </div>

      <h2>Create Your iAscendAi Username</h2>
      <p class="subtext">
        Link this device to your verified donation and unlock your SoulMarkⓈ-backed dashboard.
        No passwords — just this device.
      </p>

      <!-- VERIFIED EMAIL -->
      <p class="label">Verified Email</p>
      <div id="emailChip" class="chip"></div>

      <!-- LAST DONATION -->
      <p class="label" style="margin-top:18px;">Last Donation</p>
      <div id="donationText" class="value"></div>

      <!-- PROGRESS MESSAGE -->
      <p class="info" style="margin-top:20px;">
        Tap below to continue. Your username will be created on the next step.
      </p>

      <!-- CTA BUTTON -->
      <button class="btn" onclick="continueToIdentity()">
        Continue — Create My iAscendAi Username →
      </button>

    </div>
  </div>

<script>
  // Utility to mask email
  function maskEmail(email) {
    if (!email) return "unknown";
    const [user, domain] = email.split("@");
    return user[0] + "•••@" + domain;
  }

  // Extract donation + email from URL
  window.onload = () => {
    const params = new URLSearchParams(window.location.search);

    const email = params.get("email");
    const amount = params.get("amount");

    document.getElementById("emailChip").textContent = maskEmail(email);
    document.getElementById("donationText").textContent =
      amount ? "$" + Number(amount).toFixed(2) : "$0.00";
  };

  // GO TO FULL IDENTITY CREATION PAGE
  function continueToIdentity() {
    // Pass along what we know (email + amount)
    const params = new URLSearchParams(window.location.search);
    window.location.href = "identity.html?" + params.toString();
  }
</script>

</body>
</html>